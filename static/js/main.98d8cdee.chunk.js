(this["webpackJsonpfool-role-picker"]=this["webpackJsonpfool-role-picker"]||[]).push([[0],{163:function(e,c,n){},164:function(e,c,n){},165:function(e,c,n){},242:function(e,c,n){},248:function(e,c,n){},250:function(e,c,n){"use strict";n.r(c);var t=n(0),a=n.n(t),r=n(31),l=n.n(r),i=(n(163),n(164),n(47)),s=n(254),o=n(84),d=n(253),j=n(152),u=n(46),b=(n(165),n(151)),m=n(21),f=n(9),O=function(e){var c=Object(t.useState)(""),n=Object(i.a)(c,2),a=n[0],r=n[1],l=Object(m.f)(),O=function(c){e.updatePlayers(c.target.playerId,c.target.checked)},h=e.players.map((function(e,c){return Object(f.jsx)(s.a,{span:12,children:Object(f.jsx)(o.a,{className:"custom-checkbox",playerId:e.id,checked:e.checked,value:e.value,onChange:O,children:e.label})},c)}));return Object(f.jsx)("div",{className:"container container--qty",children:Object(f.jsx)("div",{className:"players-qty",children:Object(f.jsxs)("div",{className:"players-qty__inner",children:[Object(f.jsx)(b.a,{children:"\u0418\u0433\u0440\u043e\u043a\u0438"}),Object(f.jsx)(d.a,{gutter:[16,16],align:"middle",justify:"center",children:h}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"options-subtitle",children:"\u0420\u0435\u0436\u0438\u043c\u044b \u0438\u0433\u0440\u044b"}),Object(f.jsx)("div",{className:"modes-wrapper",children:Object(f.jsx)(o.a,{className:"custom-checkbox",checked:e.gameModes[0].isOn,value:e.gameModes[0].name,onChange:function(c){e.setGameMode(c.target.value,c.target.checked)},children:"\u0414\u0432\u043e\u0439\u043d\u044b\u0435 \u0440\u043e\u043b\u0438"})}),Object(f.jsx)("div",{className:"options-subtitle",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}),Object(f.jsx)("div",{className:"new-players-box",children:Object(f.jsxs)("div",{className:"field-group",children:[Object(f.jsx)(j.a,{placeholder:"\u0418\u043c\u044f",value:a,onChange:function(e){return r(e.target.value)}}),Object(f.jsx)(u.a,{onClick:function(){e.addCustomPlayer(a)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})}),Object(f.jsxs)("div",{className:"common-box",children:[Object(f.jsx)("div",{className:"options-subtitle",children:"\u0411\u0430\u043d \u0440\u043e\u043b\u0435\u0439"}),Object(f.jsx)(u.a,{type:"primary",size:"large",onClick:function(){l("../blacklist",{replace:!0})},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u0438 \u0434\u043b\u044f \u0431\u0430\u043d\u0430"})]}),Object(f.jsx)(u.a,{type:"primary",size:"large",onClick:function(){l("../game",{replace:!0})},children:"GO"})]})})})},h=n(252),p=n(40),g=function(e){var c=Object(p.b)(),n=function(){c({type:"closeModal"})};return Object(f.jsx)(h.a,{title:e.modal.title,visible:e.modal.isVisible,onOk:n,onCancel:function(){c({type:"closeModal"})},footer:[Object(f.jsx)(u.a,{type:"primary",onClick:n,children:"OK"},"submit")],children:Object(f.jsx)("p",{children:e.modal.description})})},x=n(251),v=(n(242),function(e){var c=Object(t.useState)([]),n=Object(i.a)(c,2),a=n[0],r=n[1],l=Object(p.b)(),s=function(e){l({type:"openModal",roleId:e.target.dataset.id})},o=[{title:"",dataIndex:"color",key:"color",className:"ant-table-cell--color",render:function(e,c){return{props:{style:{backgroundColor:c.bgColor[0],background:"linear-gradient(135deg, ".concat(c.bgColor[0]," 40%, ").concat(c.bgColor[1]," 60%)")}}}}},{title:"",dataIndex:"icon",key:"icon",className:"ant-table-cell--icon",render:function(e,c){return{children:Object(f.jsx)("div",{className:"roles-icons",children:c.icons.map((function(e,c){return Object(f.jsx)("img",{className:"role-icon",alt:"",src:"".concat("/fool-picker","/img/").concat(e)},c)}))})}}},{title:"\u0418\u0433\u0440\u043e\u043a",dataIndex:"player",key:"player",render:function(e,c){return{children:Object(f.jsx)("div",{children:e})}}},{title:"\u0420\u043e\u043b\u044c",dataIndex:"roles",key:"roles",render:function(e,c){return{children:Object(f.jsx)("div",{className:"roles-list",children:c.roles.map((function(e,n){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("span",{className:"roleLink","data-id":e.dataRole,onClick:s,children:[e.role,c.roles.length>1&&0===n?",":""]},n),Object(f.jsx)("span",{children:" "})]})}))})}}},{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0430\u0440\u0442",dataIndex:"cardNum",key:"cardNum",render:function(e,c){return{children:Object(f.jsx)("div",{children:e})}}},{title:"\u0427\u0438\u0441\u043b\u043e \u0434\u043b\u044f \u043a\u0443\u0431\u0438\u043a\u043e\u0432",dataIndex:"diesNums",key:"diesNums",render:function(e,c){return{children:Object(f.jsx)("div",{className:"dies-num",children:c.diesNums.map((function(e,c){return Object(f.jsx)("span",{children:e},c)}))})}}},{title:"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f",dataIndex:"resNum",key:"resNum",render:function(e,c){return{children:Object(f.jsx)("div",{children:e})}}}];return Object(t.useEffect)((function(){if(0===a.length){var c=[];e.players.forEach((function(n){var t=1;if(e.gameModes[0].isOn&&(t=2),n.checked){for(var a,r,l=[],i=[],s=[],o=[],d=e.roles.filter((function(e){return!e.isBanned})),j=0;j<t;j++){a=d[e.getRandomInt(0,d.length)],i.push(a.bgColor),s.push(a.icon),0===j&&(r=a);var u={role:a.name,dataRole:a.id,color:a.color};l.push(u)}for(var b=0;b<1;b++){var m=e.getRandomInt(2,13);o.push(m)}var f={key:n.id,player:n.label,roles:l,bgColor:i,icons:s,diesNums:o,color:r.color,cardNum:0===r.id||0===a.id?9:e.getRandomInt(5,8),resNum:0===r.id||0===a.id?0:e.getRandomInt(1,3)};c.push(f)}})),r(c)}}),[e,a.length]),Object(f.jsx)(x.a,{pagination:!1,columns:o,dataSource:a})}),y=function(e){var c=Object(p.c)((function(e){return e.roles})),n=Object(p.c)((function(e){return e.modal})),a=Object(t.useState)("..."),r=Object(i.a)(a,2),l=r[0],o=r[1],j=Object(m.f)();Object(t.useEffect)((function(){if("..."===l){o(function(){var c=e.players.filter((function(e){return e.checked}));return c.length>0?c[b(0,c.length)].label:"\u043d\u0438\u043a\u0442\u043e. \u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}())}}),[l,e.players]);var b=function(e,c){return e=Math.ceil(e),c=Math.floor(c),Math.floor(Math.random()*(c-e))+e};return Object(f.jsxs)("div",{className:"container container--main",children:[Object(f.jsx)(d.a,{justify:"center",children:Object(f.jsxs)(s.a,{align:"center",children:[Object(f.jsx)(v,{roles:c,players:e.players,getRandomInt:b,gameModes:e.gameModes}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{children:["\u0425\u043e\u0434\u0438\u0442 ",l]}),Object(f.jsx)("br",{}),Object(f.jsx)(u.a,{type:"primary",size:"large",onClick:function(){j("../fool-picker",{replace:!0})},children:"\u041d\u043e\u0432\u0430\u044f \u043f\u0430\u0440\u0442\u0438\u044f"})]})}),Object(f.jsx)(g,{modal:n})]})},k=n(87),N=(n(248),function(e){return Object(f.jsxs)("div",{className:"blacklist__item ".concat(e.role.isBanned&&"blacklist__item--banned"),onClick:function(){e.toggleRoleBan(e.role.id)},children:[Object(f.jsx)("div",{className:"blacklist__item-icon",children:Object(f.jsx)("img",{alt:"",src:"".concat("/fool-picker","/img/").concat(e.role.icon)})}),Object(f.jsx)("div",{className:"blacklist__item-name",children:e.role.name})]})}),C=function(e){var c=Object(p.c)((function(e){return e.roles})),n=Object(p.b)(),t=Object(m.f)(),a=function(e){n({type:"setRoleBan",id:e})},r=c.map((function(e,c){return Object(f.jsx)(N,{role:e,toggleRoleBan:a},c)}));return Object(f.jsxs)("div",{className:"container container--main",children:[Object(f.jsx)(d.a,{justify:"center",children:Object(f.jsx)(s.a,{align:"center",children:Object(f.jsx)("h1",{children:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c \u0440\u043e\u043b\u0438"})})}),Object(f.jsx)(d.a,{justify:"center",children:Object(f.jsxs)(s.a,{align:"center",children:[Object(f.jsx)("div",{className:"blacklist",children:r}),Object(f.jsx)(u.a,{type:"primary",size:"large",onClick:function(){t("../fool-picker",{replace:!0})},children:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c \u0440\u043e\u043b\u0438"})]})})]})};var M=function(){var e=Object(p.c)((function(e){return e.players})),c=Object(p.c)((function(e){return e.gameModes})),n=Object(p.b)(),t=function(e,c){n({type:"updatePlayers",id:e,checked:c})},a=function(e){n({type:"setPlayersSelectorVisible",value:e})},r=function(e,c){n({type:"setGameMode",gameMode:e,value:c})},l=function(e){n({type:"addCustomPlayer",name:e})};return Object(f.jsx)(k.a,{children:Object(f.jsxs)(m.c,{children:[["/","/fool-picker"].map((function(n,i){return Object(f.jsx)(m.a,{path:n,element:Object(f.jsx)(O,{setPlayersSelectorVisible:a,players:e,updatePlayers:t,gameModes:c,setGameMode:r,addCustomPlayer:l})},i)})),Object(f.jsx)(m.a,{path:"/blacklist",element:Object(f.jsx)(C,{})}),Object(f.jsx)(m.a,{path:"/game",element:Object(f.jsx)(y,{setPlayersSelectorVisible:a,players:e,gameModes:c})})]})})},R=(n(249),n(96)),B=n(41),I=n(150),P={players:[{id:0,label:"\u0414\u0435\u043d\u0438\u0441",value:"\u0414\u0435\u043d\u0438\u0441",checked:!0},{id:1,label:"\u0421\u0435\u0440\u0433\u0435\u0439 1",value:"\u0421\u0435\u0440\u0433\u0435\u0439 1",checked:!0},{id:2,label:"\u0410\u043d\u043d\u0430",value:"\u0410\u043d\u043d\u0430",checked:!0},{id:3,label:"\u0421\u0435\u0440\u0433\u0435\u0439 2",value:"\u0421\u0435\u0440\u0433\u0435\u0439 2",checked:!0}],playersSelector:{isVisible:!0},modal:{isVisible:!1,title:"...",description:"..."},gameModes:[{id:0,name:"doubleRoles",isOn:!1}],roles:[{id:0,name:"\u0412\u0430\u0440\u0432\u0430\u0440",color:"#000",bgColor:"#afafaf",roleRules:"\u041e\u0442\u0431\u0438\u0432\u0430\u0435\u0442\u0441\u044f 1 \u0440\u0430\u0437 \u0437\u0430 \u0438\u0433\u0440\u0443, \u043d\u0435\u043b\u044c\u0437\u044f \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432 \u0438\u0433\u0440\u0443",icon:"barbarian.svg",isBanned:!1},{id:1,name:"\u041a\u0440\u0435\u0441\u0442\u043e\u043d\u043e\u0441\u0435\u0446",color:"#000",bgColor:"#51885d",roleRules:"\u041c\u043e\u0436\u0435\u0442 \u043e\u0442\u0431\u0438\u0442\u044c \u043e\u0434\u043d\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439 \u0434\u0432\u0435",icon:"crusader.svg",isBanned:!1},{id:2,name:"\u041d\u0435\u043a\u0440\u043e\u043c\u0430\u043d\u0442",color:"#fff",bgColor:"#212121",roleRules:"\u0412\u043e\u0441\u043a\u0440\u0435\u0448\u0430\u0435\u0442 \u043f\u043e\u043b\u043e\u0432\u0438\u043d\u0443 \u043e\u0442 \u043a\u043e\u043b-\u0432\u0430 \u0441\u0432\u043e\u0438\u0445 \u043a\u0430\u0440\u0442 \u0432 \u043a\u043e\u043b\u043e\u0434\u0443 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430 3 \u0440\u0430\u0437\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443",icon:"necromancer.svg",isBanned:!1},{id:3,name:"\u042f\u0434\u043e\u0432\u0438\u0442\u044b\u0439",color:"#000",bgColor:"#00ff1f",roleRules:"\u0414\u0435\u043b\u0430\u0435\u0442 \u0443\u043a\u043e\u043b \u0441 \u044f\u0434\u043e\u043c 2 \u0440\u0430\u0437\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443",icon:"poisonous.svg",isBanned:!1},{id:4,name:"\u0411\u0435\u0440\u0441\u0435\u0440\u043a",color:"#000",bgColor:"#ff5151",roleRules:"\u041c\u043e\u0436\u0435\u0442 \u043f\u043e\u0434\u043a\u0438\u0434\u044b\u0432\u0430\u0442\u044c +- 1 \u043a\u0430\u0440\u0442\u0443 \u043f\u043e \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u0443",icon:"berserk.svg",isBanned:!1},{id:5,name:"\u0420\u0430\u0437\u0431\u043e\u0439\u043d\u0438\u043a",color:"#000",bgColor:"#f8ff8d",roleRules:"\u0414\u0432\u0430 \u043a\u043e\u0437\u044b\u0440\u044f",icon:"rogue.svg",isBanned:!1},{id:6,name:"\u041e\u0442\u0440\u0430\u0436\u0430\u0442\u0435\u043b\u044c",color:"#000",bgColor:"#ce8e00",roleRules:"\u041e\u0442\u0440\u0430\u0436\u0430\u0435\u0442 \u043a\u0430\u0440\u0442\u0443 2 \u0440\u0430\u0437\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443",icon:"deflector.svg",isBanned:!1},{id:7,name:"\u0420\u0435\u0432\u0435\u0440\u0441\u0438\u0432\u043d\u044b\u0439",color:"#000",bgColor:"#b912ff",roleRules:"\u0411\u044c\u0435\u0442 \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u043a\u0430\u0440\u0442\u044b \u043c\u0435\u043d\u044c\u0448\u0438\u043c\u0438",icon:"reverse.svg",isBanned:!1},{id:8,name:"\u0420\u044b\u0446\u0430\u0440\u044c",color:"#fff",bgColor:"#000f72",roleRules:"\u041f\u043e\u0434\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043c\u0443 \u0443\u0433\u043e\u0434\u043d\u043e, \u0430 \u0435\u043c\u0443 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0434\u043a\u0438\u043d\u0443\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0433\u0440\u043e\u043a \u0441\u043f\u0440\u0430\u0432\u0430",icon:"knight.svg",isBanned:!1},{id:9,name:"\u0412\u043e\u0440",color:"#fff",bgColor:"#555",roleRules:"2 \u0440\u0430\u0437\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443 \u0441\u043c\u043e\u0442\u0440\u0438\u0442 3 \u043b\u044e\u0431\u044b\u0435 \u043a\u0430\u0440\u0442\u044b \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u0430 \u0438 \u0432\u043e\u0440\u0443\u0435\u0442 \u043b\u044e\u0431\u0443\u044e \u043e\u0434\u043d\u0443 \u0438\u0437 \u043d\u0438\u0445",icon:"thief.svg",isBanned:!1}]},_=Object(I.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case"addCustomPlayer":return Object(B.a)(Object(B.a)({},e),{},{players:[].concat(Object(R.a)(e.players),[{id:e.players.length,label:c.name,value:c.name,checked:!0}])});case"setGameMode":return Object(B.a)(Object(B.a)({},e),{},{gameModes:Object(R.a)(e.gameModes.map((function(e){return e.name===c.gameMode&&(e.isOn=c.value),Object(B.a)({},e)})))});case"updatePlayers":return Object(B.a)(Object(B.a)({},e),{},{players:Object(R.a)(e.players.map((function(e,n){return n===c.id&&(e.checked=c.checked),Object(B.a)({},e)})))});case"openModal":var n=P.roles[c.roleId];return Object(B.a)(Object(B.a)({},e),{},{modal:{isVisible:!0,title:n.name,description:n.roleRules}});case"closeModal":return Object(B.a)(Object(B.a)({},e),{},{modal:{isModalVisible:!1}});case"setRoleBan":return Object(B.a)(Object(B.a)({},e),{},{roles:Object(R.a)(e.roles.map((function(e){return e.id===c.id&&(e.isBanned=!e.isBanned),Object(B.a)({},e)})))});default:return e}}));document.state=_;var S=_;l.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(p.a,{store:S,children:Object(f.jsx)(M,{})})}),document.getElementById("root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.98d8cdee.chunk.js.map