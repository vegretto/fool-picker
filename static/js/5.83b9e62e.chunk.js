(this["webpackJsonpfool-role-picker"]=this["webpackJsonpfool-role-picker"]||[]).push([[5],{239:function(e,n,t){},255:function(e,n,t){"use strict";t.r(n);var r=t(35),c=t(220),o=t(221),a=t(90),i=t(254),l=t(48),s=t(8),d=function(e){var n=Object(l.b)(),t=function(){n({type:"closeModal"})};return Object(s.jsx)(i.a,{title:e.modal.title,visible:e.modal.isVisible,onOk:t,onCancel:function(){n({type:"closeModal"})},footer:[Object(s.jsx)(a.a,{type:"primary",onClick:t,children:"OK"},"submit")],children:Object(s.jsx)("p",{children:e.modal.description})})},u=t(253),j=t(0),b=(t(239),function(e){var n=Object(j.useState)([]),t=Object(r.a)(n,2),c=t[0],o=t[1],a=Object(l.b)(),i=function(e){a({type:"openModal",roleId:e.target.dataset.id})},d=[{title:"",dataIndex:"color",key:"color",className:"ant-table-cell--color",render:function(e,n){return{props:{style:{backgroundColor:n.bgColor[0],background:"linear-gradient(135deg, ".concat(n.bgColor[0]," 40%, ").concat(n.bgColor[1]," 60%)")}}}}},{title:"",dataIndex:"icon",key:"icon",className:"ant-table-cell--icon",render:function(e,n){return{children:Object(s.jsx)("div",{className:"roles-icons",children:n.icons.map((function(e,n){return Object(s.jsx)("img",{className:"role-icon",alt:"",src:"".concat("/fool-picker","/img/").concat(e)},n)}))})}}},{title:"\u0418\u0433\u0440\u043e\u043a",dataIndex:"player",key:"player",render:function(e,n){return{children:Object(s.jsx)("div",{children:e})}}},{title:"\u0420\u043e\u043b\u044c",dataIndex:"roles",key:"roles",render:function(e,n){return{children:Object(s.jsx)("div",{className:"roles-list",children:n.roles.map((function(e,t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("span",{className:"roleLink","data-id":e.dataRole,onClick:i,children:[e.role,n.roles.length>1&&0===t?",":""]},t),Object(s.jsx)("span",{children:" "})]})}))})}}},{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0430\u0440\u0442",dataIndex:"cardNum",key:"cardNum",render:function(e,n){return{children:Object(s.jsx)("div",{children:e})}}},{title:"\u0427\u0438\u0441\u043b\u043e \u0434\u043b\u044f \u043a\u0443\u0431\u0438\u043a\u043e\u0432",dataIndex:"diesNums",key:"diesNums",render:function(e,n){return{children:Object(s.jsx)("div",{className:"dies-num",children:n.diesNums.map((function(e,n){return Object(s.jsx)("span",{children:e},n)}))})}}},{title:"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f",dataIndex:"resNum",key:"resNum",render:function(e,n){return{children:Object(s.jsx)("div",{children:e})}}}];return Object(j.useEffect)((function(){if(0===c.length){var n=[];e.players.forEach((function(t){var r=1;if(e.gameModes[0].isOn&&(r=2),t.checked){for(var c,o,a=[],i=[],l=[],s=[],d=e.roles.filter((function(e){return!e.isBanned})),u=0;u<r;u++){c=d[e.getRandomInt(0,d.length)],i.push(c.bgColor),l.push(c.icon),0===u&&(o=c);var j={role:c.name,dataRole:c.id,color:c.color};a.push(j)}for(var b=0;b<1;b++){var f=e.getRandomInt(2,13);s.push(f)}var h={key:t.id,player:t.label,roles:a,bgColor:i,icons:l,diesNums:s,color:o.color,cardNum:0===o.id||0===c.id?9:e.getRandomInt(5,8),resNum:0===o.id||0===c.id?0:e.getRandomInt(1,3)};n.push(h)}})),o(n)}}),[e,c.length]),Object(s.jsx)(u.a,{pagination:!1,columns:d,dataSource:c})}),f=t(9);n.default=function(e){var n=Object(l.c)((function(e){return e.roles})),t=Object(l.c)((function(e){return e.modal})),i=Object(j.useState)("..."),u=Object(r.a)(i,2),h=u[0],m=u[1],p=Object(f.f)();Object(j.useEffect)((function(){if("..."===h){m(function(){var n=e.players.filter((function(e){return e.checked}));return n.length>0?n[O(0,n.length)].label:"\u043d\u0438\u043a\u0442\u043e. \u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}())}}),[h,e.players]);var O=function(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e))+e};return Object(s.jsxs)("div",{className:"container container--main",children:[Object(s.jsx)(c.a,{justify:"center",children:Object(s.jsxs)(o.a,{align:"center",children:[Object(s.jsx)(b,{roles:n,players:e.players,getRandomInt:O,gameModes:e.gameModes}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{children:["\u0425\u043e\u0434\u0438\u0442 ",h]}),Object(s.jsx)("br",{}),Object(s.jsx)(a.a,{type:"primary",size:"large",onClick:function(){p("../fool-picker",{replace:!0})},children:"\u041d\u043e\u0432\u0430\u044f \u043f\u0430\u0440\u0442\u0438\u044f"})]})}),Object(s.jsx)(d,{modal:t})]})}}}]);
//# sourceMappingURL=5.83b9e62e.chunk.js.map